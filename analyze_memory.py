data_hex = "270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000020061452709000018004005270900001800400527090000180040052709000002006245270900000000000027090000000008002709000000000800270900000000000027090000000000002709000000000000270900000000000027090000000000002709000017000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000020061452709000018004005270900001800400527090000180040052709000002006245270900000000000027090000000008002709000000000800270900000000000027090000000000002709000000000000270900000000000027090000000000002709000017000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000040061452709000001004245270900000100424527090000160040452709000006006145270900000000000027090000000008002709000000000800270900000000000027090000000000002709000000000000270900000000000027090000000000002709000017000000270900001700000027090000170000002709000017000000270900001700000027090000170000002709000017000000270900001700000027090000170000002709000017000000270900001700000027090000170000002709000017000000270900000000000027090000000000002709000000000800270900000000080027090000000000002709000000000000270900000000000027090000000000002709000000000000270900001700000027090000170000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000008002709000000000800270900000000000027090000000000002709000000000000270900000000000027090000170000002709000017000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000008002709000000000800270900000000000027090000030061462709000016004046270900000100414627090000010041462709000016004046270900000100414627090000050061462709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000008002709000000000800270900000000000027090000020061462709000018004006270900001800400627090000180040062709000018004006270900001800400627090000160060462709000017000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000008002709000000000800270900000000000027090000020061462709000018004006270900001800400627090000180040062709000018004006270900001800400627090000160062462709000017000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000008002709000000000800270900000000000027090000020061462709000018004006270900001800400627090000180040062709000018004006270900001800400627090000020062462709000017000000270900001700000027090000170000002709000000000000270900000000000027090000030021472709000001000147280900000110014728090000010801472c090000050421472709000000000000270900000000080027090000000008002709000017000000270900000200614627090000180040062709000018004006270900001800400627090000180040062709000018004006270900000200624627090000170000002709000000000000270900001700000027090000000000002709000017000000270900000e002147270900001800000727090000183000073d09000019ff0107290900000206224727090000000000002709000000000800270900000000080027090000000000002709000004006146270900000100424627090000010042462709000001004246270900000100424627090000010042462709000006006146270900001700000027090000000000002709000017000000270900001700000027090000170000002709000002002147270900001800000727090000187000072709000018ff0007290900000207224727090000000000002709000000000800270900000000080027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900001700000027090000000000002709000000000000270900000000000027090000170000002709000016002447270900001800000727090000187000072709000018ff0007290900000207224727090000000000002709000000000800270900000000080027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900001700000027090000000000002709000000000000270900000000000027090000000000002909000002102147270900001818000727090000187c00072709000018ff00072909000002072247270900000000000027090000000008002709000000000800270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000017000000270900000000000027090000000000002709000000000000270900000000000029090000023021472709000018ff00072709000018ff00072709000018ff000729090000020322472709000000000000270900000000080027090000000008002709000000000000270900000000000027090000000000002709000000100000270900000018000027090000001c000027090000001c000027090000001c00003b090000171c000027090000001c000027090000001c000027090000001c000027090000001c00002b090000047c21473309000016ff01472809000001c7024728090000018102472d0900000601214727090000000000002709000000000800270900000000080027090000000000002709000000000000270900000000000027090000003000003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff00003b09000017ff000027090000000300002709000000000000270900000000000027090000000000002709000000000800270900000000080027090000000000002709000000000000270900000000000027090000007000003b09000017ff00002709000000c700002709000000c100002709000000c100003b09000017c100002709000000c100002709000000c100002709000000c100002709000000c100002709000000c10000270900000081000027090000000100002709000000000000270900000000000027090000000000002709000000000800270900000000080027090000000000002a0900000310e148280900000110c148280900000170c1483309000016ffc14828090000010fc148280900000104c1482c0900000504e14827090000170000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000080027090000000008002709000000000000290900000270e1483a0900001870c0083a0900001870c0083a09000018ffc0083a090000180fc0083a0900001807c008290900000207e24827090000170000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000000027090000000000002709000000000000270900000000080027090000000008002709000000000000290900000270e1483a0900001870c0083a0900001870c0083a09000018ffc0083a090000180bc0083a0900001807c008330900001607e048270900001700000027090000170000002709000017000000270900001700000027090000170000002709000000000000"
data = bytes.fromhex(data_hex)

# struct rm is 8 bytes
# typ is at offset 4
# STAIRS is 25 (0x19)
# LADDER is 26 (0x1a)

ROWNO = 21
COLNO = 80

# Offset from previous read
OFFSET = 4096 // 8

for i in range(len(data) // 8):
    typ = data[i*8 + 4]
    if typ == 25:
        print(f"Found STAIRS at index {i + OFFSET}")
        # Assuming [COLNO][ROWNO]
        idx = i + OFFSET
        x = idx // ROWNO
        y = idx % ROWNO
        print(f"Coordinates: ({x}, {y})")
    elif typ == 26:
        print(f"Found LADDER at index {i + OFFSET}")
        idx = i + OFFSET
        x = idx // ROWNO
        y = idx % ROWNO
        print(f"Coordinates: ({x}, {y})")
